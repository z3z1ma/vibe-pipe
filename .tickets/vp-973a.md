---
"id": "vp-973a"
"status": "open"
"deps": []
"links": []
"created": "2026-01-31T03:36:27Z"
"type": "docs"
"priority": 1
"assignee": "z3z1ma"
"tags":
- "sprint:Config-pipelines-verification"
- "docs"
"external": {}
---
# Docs: align config-driven pipelines CLI commands

Context: docs/config_driven_pipelines.md shows CLI as vibepiper run/validate/describe, but code exposes vibepiper config run/validate/describe (see src/vibe_piper/cli/commands/config_cmd.py and config_run.py). This mismatch will confuse users and break copy and paste.

## Scope
- Update docs to use actual CLI subcommands and flags.
- Ensure examples reference real example files (examples/pipelines/demo_pipeline.*).
- Update any related docs for consistency.

## Acceptance Criteria
- docs/config_driven_pipelines.md uses correct subcommands and flags
- Examples reference real example files
- Any related docs updated consistently
- uv run vibepiper --help output matches docs (spot-check)

## Dependencies
- None (re-verify after any CLI changes from vp-8690).

## Suggested Order
- Parallel with code fixes; final spot-check after vp-8690 verification.

## Notes

**2026-01-31T04:05:19Z**

Started work: analyzing current CLI structure and documentation discrepancies. Current docs show vibepiper run/validate/describe but code exposes vibepiper config run/validate/describe. Found bug in main.py line 242 trying to call config_cmd.run which doesn't exist.

**2026-01-31T04:12:24Z**

Found bug in parser.py line 315: checking isinstance(jobs_data, dict) instead of isinstance(job_data, dict). This causes validation to fail. Will create follow-up ticket for parser bug.

**2026-01-31T04:15:38Z**

Completed documentation alignment. Changes committed (7755449).

Changes made:
1. Updated docs/config_driven_pipelines.md to use correct 'vibepiper config run|validate|describe' subcommands throughout
2. Restructured CLI main.py to use proper typer.Typer() subcommand groups with 'vibepiper config' as parent command
3. Fixed parser bug in parser.py line 315 (isinstance jobs_data -> job_data)
4. Removed unused imports from config_run.py

Verification performed:
- uv run vibepiper --help shows 'config' subcommand with run/validate/describe
- uv run vibepiper config --help shows all three subcommands
- uv run vibepiper config validate --config examples/pipelines/demo_pipeline.toml - PASSED
- uv run vibepiper config describe --config examples/pipelines/demo_pipeline.toml - PASSED
- uv run vibepiper config run --config examples/pipelines/demo_pipeline.toml --dry-run - PASSED

Note: Found and fixed parser bug that was blocking validation. This is a code fix, not just documentation.
