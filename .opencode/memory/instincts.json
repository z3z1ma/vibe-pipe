{
  "version": 1,
  "instincts": [
    {
      "id": "optional-dependency-import-pattern",
      "title": "Import optional dependencies with try/except and type ignore",
      "trigger": "Need to use external library that may not be installed",
      "action": "1. Wrap import in try/except block\n2. Add type: ignore[import-untyped] comment for mypy\n3. Set flag variable to track availability\n4. Provide fallback behavior when unavailable\n5. Document degradation in docstring",
      "tags": [],
      "confidence": 0.9,
      "status": "active",
      "created_at": "2026-01-29T11:00:04.777Z",
      "updated_at": "2026-01-29T11:00:04.777Z",
      "evidence": [
        {
          "ts": "2026-01-29T11:00:04.777Z",
          "sessionID": "ses_3f6af2e3dffeEkpZIw2vpvKPE0"
        }
      ]
    },
    {
      "id": "datetime-none-coalescing",
      "title": "Coalesce None datetime values before arithmetic",
      "trigger": "Performing datetime arithmetic with potentially None fields",
      "action": "Always use: (field or datetime.utcnow()) to ensure arithmetic operations have datetime, not Optional[datetime]",
      "tags": [],
      "confidence": 0.85,
      "status": "active",
      "created_at": "2026-01-29T11:00:04.777Z",
      "updated_at": "2026-01-29T11:00:04.777Z",
      "evidence": [
        {
          "ts": "2026-01-29T11:00:04.777Z",
          "sessionID": "ses_3f6af2e3dffeEkpZIw2vpvKPE0"
        }
      ]
    },
    {
      "id": "formatter-type-separation",
      "title": "Use separate variables for different formatter types",
      "trigger": "MyPy complains about incompatible formatter assignments",
      "action": "Create distinct variables (json_formatter, colored_formatter, simple_formatter) instead of reusing single 'formatter' variable to avoid type checker confusion",
      "tags": [],
      "confidence": 0.75,
      "status": "active",
      "created_at": "2026-01-29T11:00:04.777Z",
      "updated_at": "2026-01-29T11:00:04.777Z",
      "evidence": [
        {
          "ts": "2026-01-29T11:00:04.777Z",
          "sessionID": "ses_3f6af2e3dffeEkpZIw2vpvKPE0"
        }
      ]
    }
  ]
}
